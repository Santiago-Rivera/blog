<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Registrarse - Mi Blog">
    <meta name="author" content="Santiago Rivera">
    <meta name="keywords" content="Blog, registro, crear cuenta">
    <title>Registrarse - Mi Blog</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        .register-form {
            background: var(--white);
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: var(--shadow);
            max-width: 500px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--text-dark);
        }

        .form-group input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            transition: var(--transition);
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(61, 124, 71, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .btn-register {
            width: 100%;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 14px 32px;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 10px;
        }

        .btn-register:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .form-footer {
            text-align: center;
            margin-top: 25px;
            padding-top: 25px;
            border-top: 1px solid var(--border-color);
        }

        .form-footer p {
            color: var(--text-light);
            font-size: 14px;
            margin-bottom: 10px;
        }

        .form-footer a {
            color: var(--primary-color);
            font-weight: 500;
        }

        .form-footer a:hover {
            color: var(--primary-dark);
        }

        .register-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - 400px);
        }

        .terms {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .terms input[type="checkbox"] {
            width: auto;
            margin-top: 3px;
        }

        .terms label {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 0;
        }

        .terms a {
            color: var(--primary-color);
        }

        @media (max-width: 480px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <span class="logo-icon">âœˆ</span>
                <h1>Mi Blog</h1>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="./index.html">Principal</a></li>
                    <li><a href="./ayuda.html">Ayuda</a></li>
                    <li><a href="./contacto.html">Contacto</a></li>
                    <li><a href="./inicia-sesion.html">Inicia Sesion</a></li>
                    <li><a href="./registrarse.html" class="active">Registrarse</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <span class="hero-tag">Ãšnete a nosotros</span>
            <h2>Crea tu cuenta</h2>
            <p>RegÃ­strate para acceder a contenido exclusivo y mÃ¡s</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="register-container">
                <div class="register-form">
                    <form id="register-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="nombre">Nombre</label>
                                <input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required>
                            </div>
                            <div class="form-group">
                                <label for="apellido">Apellido</label>
                                <input type="text" id="apellido" name="apellido" placeholder="Tu apellido" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="email">Correo electrÃ³nico</label>
                            <input type="email" id="email" name="email" placeholder="tucorreo@ejemplo.com" required>
                        </div>
                        <div class="form-group">
                            <label for="password">ContraseÃ±a</label>
                            <input type="password" id="password" name="password" placeholder="Crea una contraseÃ±a" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password">Confirmar contraseÃ±a</label>
                            <input type="password" id="confirm-password" name="confirm-password" placeholder="Repite tu contraseÃ±a" required>
                        </div>
                        <div class="terms">
                            <input type="checkbox" id="terms" name="terms" required>
                            <label for="terms">Acepto los <a href="#">TÃ©rminos y Condiciones</a> y la <a href="#">PolÃ­tica de Privacidad</a></label>
                        </div>
                        <button type="submit" class="btn-register">Crear cuenta â†’</button>
                    </form>
                    <div class="form-footer">
                        <p>Â¿Ya tienes una cuenta?</p>
                        <a href="./inicia-sesion.html">Inicia sesiÃ³n aquÃ­</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-icon">âœˆ</span>
                    <span>Mi Blog</span>
                </div>
                <p class="footer-copy">Derechos reservados &copy; 2025-2026</p>
                <div class="footer-social">
                    <a href="https://github.com/Santiago-Rivera/blog"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#ffffff"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- EmailJS SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
        // Inicializar EmailJS
        emailjs.init("TU_PUBLIC_KEY_AQUI");

        // Manejar envÃ­o del formulario
        document.getElementById('register-form').addEventListener('submit', function(e) {
            e.preventDefault();

            // Validar que las contraseÃ±as coincidan
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm-password').value;

            if (password !== confirmPassword) {
                alert('Las contraseÃ±as no coinciden. Por favor, verifica.');
                return;
            }

            // Obtener datos del formulario
            const nombre = document.getElementById('nombre').value;
            const apellido = document.getElementById('apellido').value;
            const email = document.getElementById('email').value;

            // Cambiar texto del botÃ³n
            const btn = document.querySelector('.btn-register');
            const originalText = btn.textContent;
            btn.textContent = 'Registrando...';
            btn.disabled = true;

            // 1. Enviar notificaciÃ³n al administrador (NO incluir contraseÃ±a por seguridad)
            const adminParams = {
                from_name: nombre + ' ' + apellido,
                reply_to: email,
                subject: 'ðŸŽ‰ Nuevo registro de usuario en Mi Blog',
                message: `Â¡Buenas noticias! Se ha registrado un nuevo usuario en tu blog.\n\nðŸ“‹ Datos del registro:\n\nNombre: ${nombre}\nApellido: ${apellido}\nCorreo electrÃ³nico: ${email}\n\nðŸ“… Fecha de registro: ${new Date().toLocaleString('es-ES')}`
            };

            // 2. Enviar mensaje de bienvenida al usuario
            const welcomeParams = {
                from_name: 'Mi Blog',
                to_name: nombre,
                to_email: email,
                reply_to: 'santiagodeveloperfullstack@outlook.com',
                subject: 'Â¡Bienvenido a Mi Blog! ðŸŽ‰',
                message: `Â¡Hola ${nombre}! ðŸ‘‹\n\nÂ¡Gracias por registrarte en Mi Blog!\n\nEstamos muy contentos de tenerte con nosotros. Ahora podrÃ¡s disfrutar de todo nuestro contenido exclusivo.\n\nSi tienes alguna pregunta, no dudes en contactarnos.\n\nÂ¡Que disfrutes la experiencia!\n\nSaludos,\nEl equipo de Mi Blog âœˆ`
            };

            // Enviar ambos correos
            Promise.all([
                emailjs.send('TU-SERVICE-ID', 'TU-TEMPLATE-ID', adminParams),
                emailjs.send('TU-SERVICE-ID', 'TU-TEMPLATE-ID', welcomeParams)
            ])
            .then(function() {
                alert('Â¡Registro exitoso! ðŸŽ‰\nTe hemos enviado un correo de bienvenida a ' + email);
                document.getElementById('register-form').reset();
            })
            .catch(function(error) {
                console.error('Error:', error);
                // Si falla el correo de bienvenida pero el admin funciona, igual mostrar Ã©xito parcial
                if (error.text && error.text.includes('template')) {
                    alert('Â¡Registro exitoso! Pero hubo un problema enviando el correo de bienvenida.');
                    document.getElementById('register-form').reset();
                } else {
                    alert('Hubo un error al registrar. Por favor, intenta de nuevo.');
                }
            })
            .finally(function() {
                btn.textContent = originalText;
                btn.disabled = false;
            });
        });
    </script>
</body>
</html>
